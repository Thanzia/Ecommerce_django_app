{% extends 'base.html' %}
{% block title %}
<title>Order Summary (COD)</title>
{% endblock %}

{% block carousel %}{% endblock %}

{% block content %}
<div style="max-width: 900px; margin: 50px auto; font-family: sans-serif;">
    <h2 style="text-align: center; font-size: 1.8rem; font-weight: bold; margin-bottom: 20px; color: #b91c1c;">
        Order Summary (COD)
    </h2>

    {% if items %}
    <div style="background-color: #ffffff; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); overflow: hidden; margin-bottom: 20px;">
        <table style="width: 100%; border-collapse: collapse;">
            <thead>
                <tr style="background-color: #fbbf24; color: #111827;">
                    <th style="padding: 14px; text-align: left; font-weight: 700;">Product</th>
                    <th style="padding: 14px; text-align: center; font-weight: 700;">Quantity</th>
                    <th style="padding: 14px; text-align: right; font-weight: 700;">Price</th>
                </tr>
            </thead>
            <tbody>
                {% for i in items %}
                <tr style="border-bottom: 1px solid #e5e7eb;">
                    <td style="padding: 12px; text-align: left; color: #1f2937;">
                        {{ i.product.name }}
                    </td>
                    <td style="padding: 12px; text-align: center; color: #1f2937;">
                        {{ i.quantity }}
                    </td>
                    <td style="padding: 12px; text-align: right; color: #1f2937;">
                        ₹{{ i.product.price }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <h3 style="text-align: right; font-size: 1.2rem; font-weight: bold; color: #1f2937; margin-bottom: 20px;">
        Total Amount: ₹{{ amount|floatformat:2 }}
    </h3>

    <form method="POST" action="{% url 'cod_success' order.id %}">
        {% csrf_token %}
        <div style="text-align: center; margin-top: 40px;">
            <button type="submit"
                style="background-color: #f59e0b; color: white; font-weight: 600; padding: 10px 20px; border-radius: 8px; border: none; cursor: pointer; transition: background-color 0.3s ease;">
                Confirm COD Order
            </button>
        </div>
    </form>

    {% else %}
    <p style="text-align: center; color: #6b7280; font-size: 1rem; margin-top: 40px;">No items in order.</p>
    {% endif %}
</div>
{% endblock %}
