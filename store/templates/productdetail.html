{% extends 'base.html' %}
{% load static %}

{% block carousel %}
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-6">
  <article class="flex flex-col sm:flex-row bg-white transition hover:shadow-xl rounded-xl overflow-hidden">
    
    <!-- Product Image -->
    <div class="w-full sm:w-1/2">
      {% if item.image %}
        <img alt="{{ item.title }}" src="{{ item.image.url }}" 
             class="aspect-square w-full object-cover" />
      {% else %}
        <img alt="No image available" src="{% static 'default.jpg' %}"
             class="aspect-square w-full object-cover" />
      {% endif %}
    </div>

    <!-- Product Details -->
    <div class="flex flex-1 flex-col justify-between">
      
      <!-- Info -->
      <div class="border-t sm:border-t-0 sm:border-s border-gray-200 p-6">
        <h3 class="font-bold text-gray-900 uppercase text-xl mb-2">{{ item.name }}</h3>
        <p class="text-lg font-semibold text-gray-800 mb-2">â‚¹ {{ item.price }}</p>
        <p class="text-sm text-gray-700 mb-4">{{ item.description }}</p>
      </div>

      <!-- Forms -->
      <div class="px-6 pb-6 space-y-4">
        
        <!-- Add to Cart -->
        <form method="POST" action="{% url 'add_to_cart' item.id %}" class="space-y-3">
          {% csrf_token %}
          <div>
            <label for="quantity" class="block text-sm font-medium text-gray-700">Quantity</label>
            <input type="number" name="quantity" id="quantity" value="1" min="1" required
                   class="mt-1 block w-full border border-gray-300 rounded-md p-2 focus:ring-yellow-400 focus:border-yellow-400" />
          </div>
          <button type="submit"
                  class="w-full bg-yellow-300 px-5 py-3 text-sm font-bold text-gray-900 uppercase hover:bg-yellow-400 rounded-lg transition">
            Add to Cart
          </button>
        </form>

        <!-- Add to Wishlist -->
        <form action="{% url 'add_to_wishlist' item.id %}" method="post">
          {% csrf_token %}
          <button type="submit"
                  class="w-full bg-yellow-300 px-5 py-3 text-sm font-bold text-gray-900 uppercase hover:bg-yellow-400 rounded-lg transition">
            Add to Wishlist
          </button>
        </form>

      </div>
    </div>

  </article>
</div>
{% endblock %}
