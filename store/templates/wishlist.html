{% extends "base.html" %}

{% block title %}
<title>My Wishlist</title>
{% endblock %}

{% block carousel %}
{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-4 text-center mt-4">My Wishlist</h1>

{% if items %}
<ul class="divide-y divide-gray-200 bg-orange-100 max-w-6xl mx-auto">
  {% for item in items %}
  <li class="flex items-center justify-between py-4 px-4">
    <!-- Product info -->
    <div class="flex items-center space-x-4 w-2/3">
      <img src="{{ item.product_object.image.url }}" alt="{{ item.product_object.name }}"
        class="w-16 h-16 object-cover rounded" />
      <div>
        <h2 class="font-semibold text-lg">{{ item.product_object.name }}</h2>
        <p class="text-gray-600">â‚¹ {{ item.product_object.price }}</p>
      </div>
    </div>

    <!-- Buttons -->
    <div class="flex space-x-3 w-1/3 justify-end">
      <form action="{% url 'add_to_cart' pk=item.product_object.id %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="quantity" value="1" />
        <button type="submit" class="bg-yellow-300 px-4 py-2 rounded hover:bg-yellow-200 text-gray-900 font-semibold">
          Add to Cart
        </button>
      </form>

      <a href="{% url 'wishlist_remove' pk=item.id %}"
        class="bg-red-300 px-4 py-2 rounded hover:bg-red-400 text-gray-900 font-semibold">
        Remove
      </a>
    </div>
  </li>
  {% endfor %}
</ul>
{% else %}
<p class="text-center">Your wishlist is empty.</p>
{% endif %}

<div class="max-w-6xl mx-auto mt-10">
  <a href="{% url 'index' %}" class="flex font-semibold text-indigo-600 text-sm">
    <svg class="fill-current mr-2 text-indigo-600 w-4" viewBox="0 0 448 512">
      <path
        d="M134.059 296H436c6.627 0 12-5.373 12-12v-56c0-6.627-5.373-12-12-12H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.569 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296z" />
    </svg>
    Continue Shopping
  </a>
</div>
{% endblock %}
